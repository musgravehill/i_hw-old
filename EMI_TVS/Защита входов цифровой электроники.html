<!DOCTYPE html>
<!-- saved from url=(0040)http://cxem.net/beginner/beginner102.php -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Защита входов цифровой электроники</title>
<body>



<h1 align="center">Защита входов цифровой электроники</h1>

	<h3>Введение</h3>

<p>В любом электронном устройстве есть такие элементы управления как кнопки, переключатели,&nbsp;датчики и т.д., которые находятся под контролем конечных пользователей. При определенных условиях входные сигналы с них могут представлять угрозу для устройства. Особенно это актуально для используемой в промышленности электроники, которая работает в цехах. Как правило, данные с элементов управления считывает центральный процессор &nbsp;(микроконтроллер, ПЛИС или другое устройство). В таких случаях крайне важно защитить входы процессора от угроз, сохраняя при этом полезный сигнал.</p>

<h3>Суть проблемы</h3>

<p>На заводе панель управления с кнопками может быть расположена далеко от центрального процессора. Длинные провода могут выступать в качестве индуктивности, что может вызвать всплески напряжения при нажатии кнопки. Эти всплески могут привести в негодность центральный процессор, что выведет из строя всю систему. На рис. 1 показана упрощенная схема этой ситуации.</p>

<p><img alt="Упрощенная схема" src="./Защита входов цифровой электроники_files/beginner102-1.png"><br>
Рис. 1 Упрощенная схема</p>

<p>Обычно микроконтроллеры имеет входное сопротивление порядка 20 МОм и работают с напряжениями в диапазоне от 1.2 до 5.0В. На рис. 2 приведён дополненный рис. 1.</p>

<p><img alt="Входное сопротивление" src="./Защита входов цифровой электроники_files/beginner102-2.png"><br>
Рис. 2 Входное сопротивление</p>

<p>На этом рисунке видна проблема &nbsp;незащищённости входа. Любое большое напряжение, появившееся в результате индукции, нажатия кнопки, ошибки пользователя или по другой причине и попавшее на вход микроконтроллера может вывести его и всю систему из строя. В связи с этим, необходимо защитить входы микроконтроллера. Для понимания деталей обратите внимание на рис. 3. Переключатель подключен к микроконтроллеру по соединительному проводу длиной 7 метров. Обратите внимание на подключение одного из контактов переключателя к GND и подтягивающий резистор на входе микроконтроллера. Когда переключатель разомкнут, на входе микроконтроллера находится высокий уровень сигнала, вызванный подтягивающим резистором.</p>

<p><img alt="Схема подключения переключателя" src="./Защита входов цифровой электроники_files/beginner102-3.png"><br>
Рис. 3 Схема подключения переключателя</p>

<p>При изменении положения переключателя напряжение идет по длинным проводам, что вызывает индукцию. Вследствие этого, на микроконтроллер попадает повышенное напряжение. Это показано на рис. 4. Обратите внимание на минимальное напряжение вызванное индукцией&nbsp;-5.88В. Это более чем достаточно, чтобы вызвать проблемы в электронной системе.</p>

<p><img alt="Осциллограмма перепада напряжения" src="./Защита входов цифровой электроники_files/beginner102-4.png"><br>
Рис. 4 Осциллограмма перепада напряжения</p>

<p>Теперь, когда мы поняли в чем проблема, можно приступить к её решению.</p>

<h3>Защита входов</h3>

<p>Важным аспектом входов микроконтроллера и большинства логики являются <a href="http://cxem.net/beginner/beginner97.php">диоды</a> используемые для защиты входа, которые были исключены из упрощенной модели на рис. 3. Обычно падение напряжения на них около 0.7В.</p>

<p>В идеальных условиях, это может защитить микроконтроллер. Но если напряжение достаточно велико, и подается на вход достаточно долго, оно может разрушить внутренние диоды, возможно замкнув их. Это приведёт к прямой связи входа и шины питания, и при следующем скачке напряжения может привести к поломке всех элементов подключенных к этой линии питания, что может привести к непредсказуемым последствиям.</p>

<p><img alt="Полная схема" src="./Защита входов цифровой электроники_files/beginner102-5.png"><br>
Рис. 5 Полная схема</p>

<p>Даже если диоды не были пробиты, протекание большего тока и напряжения может привести к повреждению микроконтроллера, что также приведёт к непредсказуемым последствиям. Первый шаг для защиты входа - это ограничение тока.</p>

<h3>Ограничение тока</h3>

<p>Самый простой способ защиты - это <strong>токоограничивающий резистор</strong> (рис. 6). Сопротивление этого резистора таково, что падение напряжения на нем не влияет на напряжение на входе контроллера. Этот резистор и входной резистор микроконтроллера образуют делитель напряжения, следовательно, его значение может быть довольно большим. Для большинства входов можно использовать значения &nbsp;от 100 Ом и до 10 кОм. Я использовал резистор &nbsp;1 кОм.</p>

<p><img alt="Защита входа ограничением тока" src="./Защита входов цифровой электроники_files/beginner102-6.png"><br>
Рис. 6 Защита входа ограничением тока</p>

<p>Эта защита хорошо работает для коротких проводов. Рис. 7 показывает эффективность этой &nbsp;защиты. Минимальное напряжение с такой защитой составило &nbsp;-0,810 В.</p>

<p><img alt="Эффективность защиты" src="./Защита входов цифровой электроники_files/beginner102-7.png"><br>
Рис. 7 Эффективность защиты</p>

<h3>Фильтрация</h3>

<p>На рис. 6 выше показан простой ограничитель тока. При добавлении к данной схеме конденсатора (рис. 8) у нас получится ФНЧ (Фильтр Низких Частот), который обеспечит ещё более высокий уровень защиты.</p>

<p><img alt="Использование ФНЧ" src="./Защита входов цифровой электроники_files/beginner102-8.png"><br>
Рис. 8 Использование ФНЧ</p>

<p>При использовании этой схемы следует внимательно отнестись к номиналам компонентов. Из-за предельных частотных характеристик схемы, значения резисторов и конденсаторов должно быть рассчитаны таким образом, чтобы микроконтроллер не пропустил ни одного сигнала. Для их расчета используйте следующую формулу:</p>

<p><strong>Время нарастания сигнала = 2.2RC</strong></p>

<p>Расчет значений R и C:<br>
&nbsp;&nbsp;&nbsp;Определите максимальную входную частоту.<br>
&nbsp;&nbsp;&nbsp;Выберите значение R. Используйте стандартное значение, например 1 кОм.<br>
&nbsp;&nbsp;&nbsp;С помощью вышеприведенной формулы определите значение C.<br>
&nbsp;&nbsp;&nbsp;Возможно значение С придётся немного изменить в ходе использования устройства.<br>
На рис. 8, значения R и С 1 кОм и 0,01 мкФ, т.е. эта схема рассчитана на максимальную частоту 1 кГц. На рис. 9 показана эффективность этой схемы. Обратите внимание на более гладкие края. Это заслуга конденсатора.</p>

<p><img alt="Эффективность RC фильтра" src="./Защита входов цифровой электроники_files/beginner102-9.png"><br>
Рис. 9 Эффективность RC фильтра</p>

<p>Также, RC фильтр обрезает ложные сигналы, которые могут давать неверные показания микроконтроллеру. К сожалению, при длинных проводах с этой схемой всё ещё могут быть скачки напряжения, &nbsp;что опасно для внутренних диодов.</p>

<h3>Внешние диоды</h3>

<p>Чтобы обезопасить внутренние диоды микроконтроллера, можно использовать внешние диоды Шоттки (рис.10.). Диоды Шоттки используются из-за того, что падение напряжения на них 0.2В, в отличие от падения 0.7В у внутренних диодов. Обратите внимание, что для защиты диодов Шоттки от перегрузки по току используется резистор. Поскольку эти диоды работают очень короткое время, резистора около 10 Ом хватит. Если ваши диоды Шоттки выдерживают кратковременные импульсы высокого тока, резистор можно упустить.</p>

<p><img alt="Схема с внешними диодами" src="./Защита входов цифровой электроники_files/beginner102-10.png"><br>
Рис. 10 Схема с внешними диодами</p>

<p>На рис. 11 показана эффективность этой схемы. &nbsp;Желтая линия – замеры на плюсе конденсатора, зелёная линия – замер между резистором 10 Ом и диодом Шоттки. Обратите внимание на отрицательный всплеск -0,650 В, что ниже напряжения падения встроенных диодов микроконтроллера.</p>

<p><img alt="Результаты при использованием внешних защитных диодов" src="./Защита входов цифровой электроники_files/beginner102-11.png"><br>
Рис. 11 Результаты при использованием внешних защитных диодов</p>

<h3>Другие идеи</h3>

<p>В основном, другие идеи направлены на снятия сигнала с источника высокого напряжения (рис. 12).</p>

<p><img alt="Схема для снятия показаний с повышенным напряжением" src="./Защита входов цифровой электроники_files/beginner102-12.png"><br>
Рис. 12 Схема для снятия показаний с повышенным напряжением</p>

<p>Диод служит для защиты от импульсов со значением меньше нуля. После него использован стабилитрон для стабилизации напряжения на входе, он также убирает необходимость использования подтягивающего резистора. Обратите внимание, что в данном случае, ограничительный резистор достаточно мал, чтобы обеспечить достаточный ток для стабилитрона. На рис. 13 показана эффективность этой схемы при подачи на вход 12В.</p>

<p><img alt="Эффективность схемы при подачи на вход 12В" src="./Защита входов цифровой электроники_files/beginner102-13.png"><br>
Рис. 13 Эффективность схемы при подачи на вход 12В</p>

<h3>Заключение</h3>

<p>При подключении к цифровым устройствам необходимо позаботится о защите. При использовании вышеприведенных достаточно простых и понятных схем можно избежать большего количества проблем в будущем.</p><p class="sourceNews"><a href="http://goo.gl/pkAlj" target="_blank">Оригинал статьи</a></p><h3 class="tagh3">Теги:</h3><ul class="tags"><li>
									<a class="ourtag" href="http://cxem.net/tags/%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE%25D0%25B4/" id="%25D0%259F%25D0%25B5%25D1%2580%25D0%25B5%25D0%25B2%25D0%25BE%25D0%25B4">Перевод</a>
									<
								</li></ul>



</body></html>