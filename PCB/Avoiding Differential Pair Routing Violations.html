<script src="http://s206.ucoz.net/cgi/uutils.fcg?a=get_preroll_cookie&r=0.992955350908886"></script><script type="text/javascript" src="/abnl/?adsdata=W!yNP;BxA67uZ7kVHu30;ZWZfdDj2NXPJuiiuhkGns9KqrlDiMaC9Ds4Zsy8cTrKTx6g0ZJGfDsXYYRTBWWecwvUlTy;a4kT;u7aMp;PqpzLrWFlXbwNw0eRc2kZbrtZIf56RrJUHDyVpYil;1aQfGC7avOARe2AZXPsquRqEQQht3zCFfe82I4IU;tR6nd14t0P^Y8D6K3WUJ!psFio"></script><html>
<head>

<meta name=Keywords lang="ru" content="дифференциальная пара">
<title>Avoiding Differential Pair Routing Violations</title>
<link href="../../styles.css" rel=stylesheet>
</head>
<body bgcolor="#CCCCCC" class="Normal">
<script language="javascript" src="http://www.silar.ru/link.js" type="text/javascript"></script>
<script language="javascript" src="http://www.elart.narod.ru/counter.js" type="text/javascript"></script>
<a href="http://www.elart.narod.ru"><font face="Times New Roman, Times, serif"><strong><em>НА ГЛАВНУЮ СТРАНИЦУ</em></strong></font></a>
<a href="http://www.silar.ru/" target="_blank"><img border="0" width="1" height="1" alt="ПЗС камеры, тепловизионные камеры, тепловизоры Силар" src="http://www.silar.ru/img/1.gif" title="ПЗС камеры, тепловизионные камеры, тепловизоры Силар"></a>
  <table border=0 cellpadding=0 cellspacing=0 width=100%>
  <tr><td width=100% colspan=2 class="header">КАК ИЗБЕЖАТЬ ОШИБОК ПРИ РАЗВОДКЕ ДИФФЕРЕНЦИАЛЬНЫХ СИГНАЛОВ</td></tr>
  <tr><td colspan=2><hr align="center" width="75%" size="3"></td></tr>
  <tr> 
    <td width=50% valign=top class="Normal">
		<p class=left>Предыдущая статья (<a href="http://www.elart.narod.ru/articles/article17/article17.htm">А. 
        Риази. Необходимые условия разводки дифференциальных сигналов</a>) была 
        посвящена некоторым правилам по разводке высокоскоростных дифференциальных 
        сигналов, таких как сохранение параллельности и симметричности между двумя 
        комплементарными проводниками. В этой статье уделяется внимание ошибкам, 
        которые могут встречаться при проектировании или разводке высокоскоростных 
        дифференциальных цепей, а также способам избежать их. На рис. 1а показаны 
        проводники дифференциальной пары, проложенные от выводов компонента. Данная 
        разводка сделана с нарушениями правила симметрии. Рис. 1б иллюстрирует 
        лучший, предпочтительный способ симметричной разводки.</p>
		<p style='text-align:center;'><img border=1 src="img1.gif" width=189 height=171></p>
		<p class=center>Рис. 1. Варианты разводки дифференциальной пары</p>
		
      <p class=left>Правило симметрии по отношению к размещению отверстий показано 
        на рис. 2. С помощью пары отверстий осуществляется переход проводников 
        дифференциальных сигналов с одного слоя печатной платы на другой. На рис. 
        2а размещение отверстий приводит к нарушению симметрии (отверстия не располагаются 
        в одинаковых, с точки зрения проводников, местах) и, таким образом, такое 
        размещение нежелательно. На рис. 2б показан более предпочтительный вариант, 
        при котором отверстия располагаются в одинаковых местах, вдоль дифференциальных 
        проводников, сохраняя симметрию разводки.</p>
		<p style='text-align:center;'><img border=1 src="img2.gif" width=186 height=149></p>
		<p class=center>Рис. 2. Размещение отверстий дифференциальной пары</p>
		<p class=left>На рис. 3 показана часть печатной платы с проводниками на сигнальном слое и полигонами питаний 
		на внутреннем. Отмечены три ошибки разводки.</p>
		<p style='text-align:center;'><img border=1 src="img3.gif" width=192 height=116></p>
		<p class=center>Рис. 3. Примеры ошибок при разводке дифференциальной пары</p>
		<p class=left>Первая - разводка шин высокоскоростных сигналов над границей разделения полигонов. Зачастую 
		полигоны питания и земли делаются непрерывными, что хорошо подходит для высокоскоростных печатных плат. 
		Тем не менее, встречаются случаи, когда слой, отведенный под питание схемы, содержит несколько полигонов, 
		образующих острова. Нежелательно, чтобы проводники высокоскоростных сигналов пересекали разрывы между 
		полигонами, поскольку это может разорвать путь возвратного тока синфазного сигнала, ухудшить качественные 
		показатели сигнала и увеличить электромагнитные помехи и "дрожание" потенциала питаний и земли. По 
		аналогичным причинам, разводка над другими типами свободных областей полигонов должна по возможности 
		избегаться. Это также касается высокоскоростных однопроводных сигналов, для которых это может быть даже 
		более важно, потому что зазоры в полигонах отклоняют пути возвратного сигнала, добавляют проводнику индуктивность 
		и увеличивают перекрестные помехи.</p>
		<p class=left>Вторая ошибка относится к предотвращению создания отводов от основного проводника, когда это 
		осуществимо, потому что они могут также ухудшать качество сигнала и создавать дополнительные электромагнитные 
		помехи.</p>
	</td>
    <td width=50% valign=top class="Normal">
		<p class=right>Третья ошибка относится к проводнику синего цвета, разводка которого нарушает правило параллельности 
		дифференциальных шин. Предпочтительная разводка для этого отрезка сигнала показана проводником зеленого цвета. 
		Несоблюдение правила параллельности может приводить к появлению сосредоточенных неоднородностей импеданса 
		проводника, неблагоприятно воздействует на качество сигнала, приводит к разности длин и асимметрии дифференциальных 
		проводников.</p>
		<p class=right>Анализ структуры стеклотектолита приводит к интересным размышлениям относительно разводки. На рис. 4 
		показана структура широко применяемого при изготовлении печатных плат стеклотекстолита марки FR-4 - стекловолоконные 
		жгуты (коричневого цвета), между которыми располагается застывшая смола (желтого цвета). В действительности, 
		стекловолокно, обеспечивающее механическую прочность, белого цвета, а смола (заполняющая пространство между жгутами 
		и формирующая гладкую поверхность) - бледно желтого. Электрические свойства стеклотекстолита марки FR-4 изменяются в 
		зависимости от соотношения долей стекловолокна и смолы.</p>
		<p style='text-align:center;'><img border=1 src="img4.gif" width=151 height=148></p>
		<p class=center>Рис. 4. Структура стеклотекстолита марки FR-4</p>
		
      <p class=right>Относительная диэлектрическая постоянная (Er) для FR-4 находится 
        в диапазоне от 4.0 до 4.5, однако для чистой эпоксидной смолы - Er около 
        3.8, а для чистого стекловолокна - Er около 5.8 на частоте 1 МГц. Неоднородность 
        характеристик материала печатной платы может сказываться на характеристики 
        проводника в зависимости от того, где он проложен - на участке с преобладанием 
        смолы или на участке с преобладанием стекловолокна. Это может приводить 
        к нежелательной неидентичности характеристик проводников дифференциальной 
        пары, поскольку диэлектрическая постоянная основания печатной платы оказывает 
        влияние на импеданс проводников и их высокочастотность при расположении 
        на внешнем (несимметричная полосковая линия) и внутреннем (полосковая 
        линия) слоях. Это соображение проиллюстрировано на рис. 5.</p>
		<p style='text-align:center;'><img border=1 src="img5.gif" width=303 height=262></p>
		<p class=center>Рис. 5. Варианты разводки дифференциальной пары</p>
		
      <p class=right>Протяженные горизонтальные или вертикальные проводники дифференциальных 
        пар (рис. 5a и 5b) более восприимчивы к неоднородности электрических характеристик 
        подложки, чем диагональные (рис. 5c и 5d). Например, на рис. 5a зеленый 
        проводник проходит непосредственно над стекловолокном (Er = 5.8), в то 
        время как красный проводник - над участком, содержащим смолу (Er = 3.8). 
        Тоже самое можно сказать и по отношению к проводникам, показанным на рис. 
        5b. При диагональной разводке проводников (рис. 5c и 5d) воздействие неоднородностей 
        подложки усредняется. Следовательно, в высокоскоростных приложениях может 
        быть более приемлема диагональная разводка длинных дифференциальных шин, 
        чем вертикальная или горизонтальная (параллельная расположению стекловолокон).</p>
		
      <p class=right>Кроме того, для минимизации асимметрии и достижения точных 
        временных характеристик равенство длин проводников дифференциальной пары 
        должно быть в достаточной степени соблюдено. На рис. 6 показано, как должны 
        учитываться длины проводников внутри корпуса интегральной схемы (L1_pkg 
        и L2_pkg) и проводников печатной платы (L1_PCB and L2_PCB) для получения 
        равенства суммарных длин.</p>
	</td>
  </tr>
  <tr> 
    <td colspan=2 class="Normal">
		<p style='text-align:center;'><img border=1 src="img6.gif" width=377 height=178></p>
		<p class=center>Рис. 6. Сумма L1_pkg+L1_PCB должна равняться L2_pkg+L2_PCB</p>
	</td>
  </tr>
  <tr> 
    <td width=50% valign=top class="Normal">
		<p class=left>Кроме того, часто разводка является ограничивающим фактором с точки зрения минимизации 
		длины проводников и идентичности их импедансов. Согласованная нагрузка дифференциальной пары требуется 
		достаточно часто для минимизации помех и отражений в линии.</p>
	</td>
    <td width=50% valign=top class="Normal">
		<p class=right>Оптимальные предельные значения длины проводников, диапазон импеданса и значений нагрузки, 
		определенные для достижения наилучших качественных показателей и точности временных характеристик, могут 
		быть установлены при моделировании. На рис. 7 приведена топологическая схема, которая включает в себя 
		дифференциальный передатчик (U1), линии передачи (T1, T2, T3 и T4), согласующий резистор (Rt) и 
		дифференциальный приемник (U2).</p>
	</td>
  </tr>
  <tr> 
    <td colspan=2 class="Normal">
		<p style='text-align:center;'><img border=1 src="img7.gif" width=377 height=107>
		<p class=center>Рис. 7. Согласованная дифференциальная структура</p>
	</td>
  </tr>
  <tr> 
    <td width=50% valign=top class="Normal">
		<p class=left>Для получения достоверных результатов высокоскоростного моделирования часто необходимо 
		задавать параметры линии передачи как линии с потерями (в отличие от линии без потерь), поскольку 
		диэлектрические и резистивные потери проводников печатной платы могут уменьшать амплитуду сигнала, 
		скорость нарастания фронтов, а также ухудшать шумовые и временные характеристики. Несмотря на это, 
		может оказаться целесообразным представить, что потери в линии незначительны. При таком допущении 
		моделирование упрощено и происходит более эффективно.</p>
		<p class=left>На рис. 7 не показаны элементы внутренней топологии, состоящие из контактных площадок 
		кристалла интегральной схемы, проводников, шин, отверстий и т.д. Тем не менее, настоятельно рекомендуется 
		принимать во внимание эквивалентные схемы этих элементов при моделировании передатчика и приемника. 
		Наиболее достоверные результаты получаются при моделировании всего участка схемы от выводов передатчика 
		до выводов приемника с учетом эффектов от проводников внутри корпуса ИС и других паразитных элементов.</p>
		<p class=left>Один из способов учета воздействия внутренних элементов (проводников) корпуса представлен на рис. 6. 
		Необходимо отметить, что в некоторых случаях модель паразитных элементов более сложна, чем модель простого 
		проводника. На рис. 8 изображен другой способ представления паразитных элементов топологии передатчика и приемника.</p>
		<p style='text-align:center;'><img border=1 src="img8.gif" width=263 height=136></p>
		<p class=center>Рис. 8. Представление передатчика и приемника с паразитными элементами</p>
	</td>
    <td width=50% valign=top class="Normal">
		<p class=right>При моделировании высокоскоростных блоков печатной платы или временных параметров источников 
		синхросигналов (задержка распространения сигнала, задержка между тактовым и выходным сигналами, время 
		установки и удержания приемника) иногда становится важным различать, какие из этих параметров определяются 
		топологией кристалла, а какие выводами интегральной схемы.</p>
		<p class=right>Блок, представляющий паразитные элементы корпуса, на рис. 8a и 8b может быть представлен 
		RLC-структурой, линией передачи с распределенными параметрами (пригодной для Spice-моделирования) или 
		модулем TOPSPEC (для XTK-моделирования). Сложность модели в зависимости от типа корпуса может значительно 
		меняться. Список элементов, вносящих вклад в паразитные сопротивление, емкость и индуктивность (R_PKG, C_PKG, 
		и L_PKG), для нескольких типов корпусов приведен ниже:</p>
		<p class=right>- TBGA - проводники и шарики (многослойные TBGA имеют также отверстия внутри корпуса);</p>
		<p class=right>- PBGA - проводники, отверстия и шарики;</p>
		<p class=right>- FCBGA - контактные столбики, проводники, отверстия и шарики;</p>
		<p class=right>- QFP - проводники и выводы;</p>
		<p class=right>- DIP - проводники и выводы.</p>
		<p class=right>Для каждого из перечисленных корпусов к паразитным элементам еще добавляется небольшая часть, 
		образующаяся от проводников, соединяющих топологическую схему и выводы кристалла.</p>
		<p class=right>Скорость распространения сигнала также в большой степени оказывает воздействие при точном 
		моделировании. Эквивалентные параметры внутренних топологических паразитных элементов корпуса, а также 
		выводов интегральной схемы могут быть получены из разных источников (справочные технические данные, Spice- 
		или IBIS-модели и т.п.). Зачастую, для моделирования высокоскоростных схем является более предпочтительным 
		представление паразитных элементов в виде элементов с распределенными параметрами (например, линией 
		передачи некоторой длины, импедансом и быстродействием), чем RLC-структурой.</p>
	</td>
  </tr>
  <tr> 
    <td colspan=2 class="Normal"><hr align="center" width="75%" size="3"></td>
  </tr>
  <tr> 
    <td colspan="2" class="Normal"> <p class=footer>Перевод статьи<br>
        A. Riazy<br>
        Avoiding Differential Pair Routing Violations<br>
        PCD&amp;M, 2004<br>
		  </p></td>
  </tr>
</table>
<!--begin of Top100-->
<a href="http://top100.rambler.ru/cgi-bin/stats_top100.cgi?512646"><img src="http://counter.rambler.ru/top100.cnt?512646" width=1 height=1 hspace="4" border=0 align="left"></a> 
<!--end of Top100-->
<!--begin of Top100 logo-->
<div align="left"><a href="http://top100.rambler.ru/top100/" target="_blank"><img src="http://top100-images.rambler.ru/top100/banner-88x31-rambler-black2.gif" width=88 height=31 border=0 align="middle"></a></div>
<!--end of Top100 logo -->

<!-- copyright (i3) --><div align="center"><a href="http://www.ucoz.ru/" title="Создать сайт бесплатно"><img style="margin:0;padding:0;border:0;" alt="Hosted by uCoz" src="http://s206.ucoz.net/img/cp/7.gif" width="80" height="15" title="Hosted by uCoz" /></a><br /></div><!-- /copyright -->
</body>
</html>
